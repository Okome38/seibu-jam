@{
    ViewData["Title"] = "Hobby Page";
}

<h2>趣味ページ</h2>

<div id="password-section">
    <p>このページにアクセスするにはパスワードを入力してください。</p>
    <input type="password" id="passwordInput" placeholder="パスワードを入力">
    <button onclick="checkPassword()">送信</button>
    <p id="errorMsg" style="color:red;"></p>
</div>

<div id="fox-section" style="display:none;">
    <h3>🦊 ランダムキツネ画像</h3>
    <button onclick="getFox()">キツネ画像を表示</button>
    <div style="margin-top:20px;">
        <img id="foxImage" src="" alt="キツネ画像" style="max-width: 400px; display: none;">
    </div>
</div>

@section Scripts {
    <script>
        const correctPassword = "1234"; // 任意のパスワードに変更可能

        function checkPassword() {
            const input = document.getElementById("passwordInput").value;
            if (input === correctPassword) {
                document.getElementById("password-section").style.display = "none";
                document.getElementById("fox-section").style.display = "block";
            } else {
                document.getElementById("errorMsg").innerText = "パスワードが違います。";
            }
        }

        function getFox() {
            fetch('https://randomfox.ca/floof/')
                .then(response => response.json())
                .then(data => {
                    const foxImg = document.getElementById("foxImage");
                    foxImg.src = data.image;
                    foxImg.style.display = "block";
                })
                .catch(error => {
                    console.error("エラー:", error);
                    alert("キツネ画像の取得に失敗しました。");
                });
        }
    </script>
}
