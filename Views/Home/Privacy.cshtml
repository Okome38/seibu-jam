@{
    ViewData["Title"] = "Hobby Page";
}

<h2>趣味ページ</h2>

<div id="password-section">
    <p>このページにアクセスするにはパスワードを入力してください。</p>
    <input type="password" id="passwordInput" placeholder="パスワードを入力">
    <button onclick="checkPassword()">送信</button>
    <p id="errorMsg" style="color:red;"></p>
</div>

<div id="game-section" style="display:none;">
    <h3>じゃんけんゲーム</h3>
    <p>手を選んでください:</p>
    <button onclick="play('ぐー')">ぐー</button>
    <button onclick="play('ちょき')">ちょき</button>
    <button onclick="play('ぱー')">ぱー</button>
    <p id="result"></p>
</div>

@section Scripts {
    <script>
        const correctPassword = "1234"; // 任意のパスワードに変更可能

        function checkPassword() {
            const input = document.getElementById("passwordInput").value;
            if (input === correctPassword) {
                document.getElementById("password-section").style.display = "none";
                document.getElementById("game-section").style.display = "block";
            } else {
                document.getElementById("errorMsg").innerText = "パスワードが違います。";
            }
        }

        function play(playerHand) {
            const hands = ["ぐー", "ちょき", "ぱー"];
            const computerHand = hands[Math.floor(Math.random() * 3)];
            let result = "";

            if (playerHand === computerHand) {
                result = "あいこです！";
            } else if (
                (playerHand === "ぐー" && computerHand === "ちょき") ||
                (playerHand === "ちょき" && computerHand === "ぱー") ||
                (playerHand === "ぱー" && computerHand === "ぐー")
            ) {
                result = `あなたの勝ち！ 相手は${computerHand}でした。`;
            } else {
                result = `あなたの負け！ 相手は${computerHand}でした。`;
            }

            document.getElementById("result").innerText = result;
        }
    </script>
}
